# æ ªä¸€è¦§ãƒ»æ ªç™»éŒ²ç”»é¢å®Ÿè£…è¨ˆç”»

## æ¦‚è¦

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€æ ªãƒã‚¹ã‚¿ã®ä¸€è¦§è¡¨ç¤ºã¨æ–°è¦ç™»éŒ²æ©Ÿèƒ½ã®å®Ÿè£…è¨ˆç”»ã‚’å®šç¾©ã—ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ ªéŠ˜æŸ„ã‚’ç®¡ç†ã§ãã‚‹UIç”»é¢ã¨ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã®ä¸¡æ–¹ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚

**ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: è¨­è¨ˆæ®µéš

---

## ç›®æ¨™

1. æ ªä¸€è¦§ç”»é¢ã®å®Ÿè£…ï¼ˆç™»éŒ²æ¸ˆã¿éŠ˜æŸ„ã®ä¸€è¦§è¡¨ç¤ºï¼‰
2. æ ªç™»éŒ²ç”»é¢ã®å®Ÿè£…ï¼ˆæ–°è¦éŠ˜æŸ„ã®ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ï¼‰
3. æ ªä¸€è¦§ãƒ»ç™»éŒ²ç”¨ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã®å®Ÿè£…
4. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å®Ÿè£…

---

## æ©Ÿèƒ½è¦ä»¶

### æ ªä¸€è¦§ç”»é¢

**ç”»é¢ãƒ‘ã‚¹**: `/stocks`

**æ©Ÿèƒ½**:
- ç™»éŒ²æ¸ˆã¿æ ªéŠ˜æŸ„ã®ä¸€è¦§è¡¨ç¤ºï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ï¼‰
- å„éŠ˜æŸ„ã®åŸºæœ¬æƒ…å ±è¡¨ç¤ºï¼ˆéŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ã€éŠ˜æŸ„åã€ç™»éŒ²æ—¥æ™‚ï¼‰
- æ¤œç´¢æ©Ÿèƒ½ï¼ˆéŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ãƒ»éŠ˜æŸ„åã§çµã‚Šè¾¼ã¿ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œç´¢ï¼‰
- æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³ï¼ˆæ ªç™»éŒ²ç”»é¢ã¸é·ç§»ï¼‰
- ãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤ºãƒœã‚¿ãƒ³ï¼ˆå„éŠ˜æŸ„ã®ãƒãƒ£ãƒ¼ãƒˆç”»é¢ã¸é·ç§»ï¼‰
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®è¡¨ç¤º
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

**æ¤œç´¢æ©Ÿèƒ½**:
- ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹1ã¤ã§éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ã¨éŠ˜æŸ„åã‚’åŒæ™‚æ¤œç´¢
- éƒ¨åˆ†ä¸€è‡´æ¤œç´¢ï¼ˆä¾‹: ã€Œãƒˆãƒ¨ã‚¿ã€ã§ã€Œãƒˆãƒ¨ã‚¿è‡ªå‹•è»Šã€ãŒãƒ’ãƒƒãƒˆï¼‰
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œç´¢ï¼ˆå…¥åŠ›ã¨åŒæ™‚ã«ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼‰
- å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å´ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å‡¦ç†ã‚’å®Ÿè¡Œ

**è¡¨ç¤ºé …ç›®**:
| åˆ—å | å†…å®¹ | å‚™è€ƒ |
|-----|------|------|
| éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ | è‹±æ•°å­—4æ¡ã®è¨¼åˆ¸ã‚³ãƒ¼ãƒ‰ | ä¾‹: 7203ã€AAPL |
| éŠ˜æŸ„å | éŠ˜æŸ„ã®åç§° | ä¾‹: ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Šã€Apple Inc. |
| ç™»éŒ²æ—¥æ™‚ | ä½œæˆæ—¥æ™‚ | YYYY-MM-DD HH:mm:ss å½¢å¼ |
| ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | ãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤ºãƒœã‚¿ãƒ³ | ã‚¯ãƒªãƒƒã‚¯ã§ãƒãƒ£ãƒ¼ãƒˆç”»é¢ã¸é·ç§» |

### æ ªç™»éŒ²ç”»é¢

**ç”»é¢ãƒ‘ã‚¹**: `/stocks/new`

**æ©Ÿèƒ½**:
- éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰å…¥åŠ›ï¼ˆè‹±æ•°å­—4æ¡ï¼‰
- éŠ˜æŸ„åå…¥åŠ›ï¼ˆ100æ–‡å­—ä»¥å†…ï¼‰
- ç™»éŒ²ãƒœã‚¿ãƒ³
- ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ï¼ˆæ ªä¸€è¦§ç”»é¢ã¸æˆ»ã‚‹ï¼‰
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- æˆåŠŸãƒ»ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º

**å…¥åŠ›é …ç›®**:
| é …ç›® | å¿…é ˆ | å‹ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |
|-----|------|-----|---------------|
| éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ | âœ… | string | è‹±æ•°å­—4æ¡ã€é‡è¤‡ä¸å¯ |
| éŠ˜æŸ„å | âœ… | string | 1ã€œ100æ–‡å­— |

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«**:
- éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰:
  - å¿…é ˆå…¥åŠ›
  - è‹±æ•°å­—4æ¡ï¼ˆä¾‹: 7203ã€AAPLï¼‰
  - å¤§æ–‡å­—ãƒ»å°æ–‡å­—å¯ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜æ™‚ã¯å¤§æ–‡å­—ã«çµ±ä¸€ï¼‰
  - é‡è¤‡ãƒã‚§ãƒƒã‚¯ï¼ˆæ—¢å­˜ã®éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ã¨é‡è¤‡ä¸å¯ï¼‰
- éŠ˜æŸ„å:
  - å¿…é ˆå…¥åŠ›
  - 1æ–‡å­—ä»¥ä¸Š100æ–‡å­—ä»¥å†…
  - å‰å¾Œã®ç©ºç™½ã¯ãƒˆãƒªãƒ 

---

## UIãƒ‡ã‚¶ã‚¤ãƒ³

### æ ªä¸€è¦§ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ ªä¸€è¦§                           [+ æ–°è¦ç™»éŒ²]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  æ¤œç´¢: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” ğŸ”       â”‚
â”‚       â”‚ éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ã¾ãŸã¯éŠ˜æŸ„å          â”‚            â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ â”‚ éŠ˜æŸ„å        â”‚ ç™»éŒ²æ—¥æ™‚     â”‚ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ 7203     â”‚ ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š   â”‚ 2024-01-15  â”‚ [ãƒãƒ£ãƒ¼ãƒˆ] â”‚ â”‚
â”‚  â”‚ 9984     â”‚ ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯G  â”‚ 2024-01-16  â”‚ [ãƒãƒ£ãƒ¼ãƒˆ] â”‚ â”‚
â”‚  â”‚ 6758     â”‚ ã‚½ãƒ‹ãƒ¼G       â”‚ 2024-01-17  â”‚ [ãƒãƒ£ãƒ¼ãƒˆ] â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚
â”‚  è¡¨ç¤º: 3ä»¶ / å…¨3ä»¶                                  â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ªç™»éŒ²ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ ªã®æ–°è¦ç™»éŒ²                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ *                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ 7203 ã¾ãŸã¯ AAPL                  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  è‹±æ•°å­—4æ¡ã®è¨¼åˆ¸ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„              â”‚
â”‚                                                     â”‚
â”‚  éŠ˜æŸ„å *                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š                        â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  éŠ˜æŸ„åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆ100æ–‡å­—ä»¥å†…ï¼‰              â”‚
â”‚                                                     â”‚
â”‚  [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]  [ç™»éŒ²]                               â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ 

- **ãƒ—ãƒ©ã‚¤ãƒãƒªã‚«ãƒ©ãƒ¼**: #26A69Aï¼ˆç·‘ï¼‰- ç™»éŒ²ãƒœã‚¿ãƒ³ã€ãƒãƒ£ãƒ¼ãƒˆãƒœã‚¿ãƒ³
- **ã‚»ã‚«ãƒ³ãƒ€ãƒªã‚«ãƒ©ãƒ¼**: #EF5350ï¼ˆèµ¤ï¼‰- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- **ã‚°ãƒ¬ãƒ¼**: #9E9E9E - ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³
- **èƒŒæ™¯è‰²**: #FAFAFA
- **ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ˜ãƒƒãƒ€ãƒ¼**: #E0E0E0

---

## APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­è¨ˆ

### ãƒ™ãƒ¼ã‚¹URL

`http://localhost:3000/api/v1`

### 1. æ ªä¸€è¦§å–å¾—API

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/v1/stocks`

**èª¬æ˜**: ç™»éŒ²æ¸ˆã¿æ ªéŠ˜æŸ„ã®ä¸€è¦§ã‚’å–å¾—

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: ãªã—ï¼ˆå°†æ¥çš„ã«ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œï¼‰

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "success": true,
  "data": {
    "stocks": [
      {
        "stockId": 1,
        "stockCode": "7203",
        "stockName": "ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š",
        "createdAt": "2024-01-15T12:34:56.789Z",
        "updatedAt": "2024-01-15T12:34:56.789Z"
      },
      {
        "stockId": 2,
        "stockCode": "9984",
        "stockName": "ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯ã‚°ãƒ«ãƒ¼ãƒ—",
        "createdAt": "2024-01-16T09:12:34.567Z",
        "updatedAt": "2024-01-16T09:12:34.567Z"
      }
    ],
    "total": 2
  }
}
```

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰**:
- `200 OK`: æ­£å¸¸å–å¾—
- `500 Internal Server Error`: ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼

---

### 2. æ ªç™»éŒ²API

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/v1/stocks`

**èª¬æ˜**: æ–°è¦æ ªéŠ˜æŸ„ã‚’ç™»éŒ²

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "stockCode": "7203",
  "stockName": "ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆæˆåŠŸï¼‰**:
```json
{
  "success": true,
  "data": {
    "stock": {
      "stockId": 1,
      "stockCode": "7203",
      "stockName": "ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š",
      "createdAt": "2024-01-15T12:34:56.789Z",
      "updatedAt": "2024-01-15T12:34:56.789Z"
    }
  },
  "message": "æ ªã‚’ç™»éŒ²ã—ã¾ã—ãŸ"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆã‚¨ãƒ©ãƒ¼ - é‡è¤‡ï¼‰**:
```json
{
  "success": false,
  "error": {
    "code": "STOCK_CODE_DUPLICATE",
    "message": "ã“ã®éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ã¯æ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™",
    "details": {
      "stockCode": "7203"
    }
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆã‚¨ãƒ©ãƒ¼ - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰**:
```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "å…¥åŠ›å†…å®¹ã«èª¤ã‚ŠãŒã‚ã‚Šã¾ã™",
    "details": {
      "stockCode": "éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ã¯4æ¡ã®æ•°å­—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™",
      "stockName": "éŠ˜æŸ„åã¯1æ–‡å­—ä»¥ä¸Š100æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„"
    }
  }
}
```

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰**:
- `201 Created`: ç™»éŒ²æˆåŠŸ
- `400 Bad Request`: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
- `409 Conflict`: éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰é‡è¤‡
- `500 Internal Server Error`: ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼

---

### 3. æ ªè©³ç´°å–å¾—APIï¼ˆå°†æ¥å¯¾å¿œï¼‰

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/v1/stocks/:stockId`

**èª¬æ˜**: ç‰¹å®šã®æ ªéŠ˜æŸ„ã®è©³ç´°æƒ…å ±ã‚’å–å¾—

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `stockId` (number, required): æ ªID

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "success": true,
  "data": {
    "stock": {
      "stockId": 1,
      "stockCode": "7203",
      "stockName": "ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š",
      "createdAt": "2024-01-15T12:34:56.789Z",
      "updatedAt": "2024-01-15T12:34:56.789Z"
    }
  }
}
```

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰**:
- `200 OK`: æ­£å¸¸å–å¾—
- `404 Not Found`: æ ªãŒè¦‹ã¤ã‹ã‚‰ãªã„
- `500 Internal Server Error`: ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼

---

## ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ä¸€è¦§

| ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ | HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | èª¬æ˜ |
|------------|--------------|------|
| `VALIDATION_ERROR` | 400 | ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ |
| `STOCK_CODE_DUPLICATE` | 409 | éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰é‡è¤‡ |
| `STOCK_NOT_FOUND` | 404 | æ ªãŒè¦‹ã¤ã‹ã‚‰ãªã„ |
| `DATABASE_ERROR` | 500 | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ |
| `INTERNAL_SERVER_ERROR` | 500 | ãã®ä»–ã®ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ |

---

## ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ stocks.ts                    # æ ªé–¢é€£ãƒ«ãƒ¼ãƒˆï¼ˆæ–°è¦ï¼‰
â”‚   â”‚   â””â”€â”€ index.ts                     # ãƒ«ãƒ¼ãƒˆçµ±åˆï¼ˆæ›´æ–°ï¼‰
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â””â”€â”€ stockController.ts           # æ ªã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ï¼ˆæ–°è¦ï¼‰
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ stockService.ts              # æ ªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆæ–°è¦ï¼‰
â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â””â”€â”€ stockRepository.ts           # æ ªãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆæ—¢å­˜æ›´æ–°ï¼‰
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â””â”€â”€ stockSchemas.ts              # æ ªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæ–°è¦ï¼‰
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ stock.ts                     # æ ªå‹å®šç¾©ï¼ˆæ–°è¦ï¼‰
```

### å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«

#### 1. schemas/stockSchemas.ts

```typescript
import { z } from 'zod';

// æ ªç™»éŒ²ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¹ã‚­ãƒ¼ãƒ
export const createStockSchema = z.object({
  stockCode: z
    .string()
    .regex(/^[A-Za-z0-9]{4}$/, 'éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ã¯è‹±æ•°å­—4æ¡ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™')
    .trim()
    .transform((val) => val.toUpperCase()), // å¤§æ–‡å­—ã«çµ±ä¸€
  stockName: z
    .string()
    .min(1, 'éŠ˜æŸ„åã¯1æ–‡å­—ä»¥ä¸Šå…¥åŠ›ã—ã¦ãã ã•ã„')
    .max(100, 'éŠ˜æŸ„åã¯100æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„')
    .trim(),
});

export type CreateStockInput = z.infer<typeof createStockSchema>;
```

#### 2. repositories/stockRepository.tsï¼ˆæ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µï¼‰

```typescript
import { getPrismaClient } from '../config/database';
import { CreateStockInput } from '../schemas/stockSchemas';

// æ ªä¸€è¦§å–å¾—
export const findAllStocks = async () => {
  const prisma = getPrismaClient();
  return await prisma.stock.findMany({
    orderBy: {
      createdAt: 'desc',
    },
  });
};

// éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ã§æ¤œç´¢
export const findStockByCode = async (stockCode: string) => {
  const prisma = getPrismaClient();
  return await prisma.stock.findUnique({
    where: { stockCode },
  });
};

// æ ªIDã§æ¤œç´¢
export const findStockById = async (stockId: number) => {
  const prisma = getPrismaClient();
  return await prisma.stock.findUnique({
    where: { stockId },
  });
};

// æ ªç™»éŒ²
export const createStock = async (input: CreateStockInput) => {
  const prisma = getPrismaClient();
  return await prisma.stock.create({
    data: input,
  });
};
```

#### 3. services/stockService.ts

```typescript
import { CreateStockInput } from '../schemas/stockSchemas';
import * as stockRepository from '../repositories/stockRepository';

// æ ªä¸€è¦§å–å¾—
export const getAllStocks = async () => {
  const stocks = await stockRepository.findAllStocks();
  return {
    stocks,
    total: stocks.length,
  };
};

// æ ªç™»éŒ²ï¼ˆé‡è¤‡ãƒã‚§ãƒƒã‚¯å«ã‚€ï¼‰
export const registerStock = async (input: CreateStockInput) => {
  // æ—¢å­˜ã®éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯
  const existingStock = await stockRepository.findStockByCode(input.stockCode);
  if (existingStock) {
    throw {
      code: 'STOCK_CODE_DUPLICATE',
      message: 'ã“ã®éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ã¯æ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™',
      details: { stockCode: input.stockCode },
    };
  }

  // æ ªç™»éŒ²
  const newStock = await stockRepository.createStock(input);
  return newStock;
};

// æ ªè©³ç´°å–å¾—
export const getStockById = async (stockId: number) => {
  const stock = await stockRepository.findStockById(stockId);
  if (!stock) {
    throw {
      code: 'STOCK_NOT_FOUND',
      message: 'æŒ‡å®šã•ã‚ŒãŸæ ªãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“',
      details: { stockId },
    };
  }
  return stock;
};
```

#### 4. controllers/stockController.ts

```typescript
import { FastifyRequest, FastifyReply } from 'fastify';
import { createStockSchema } from '../schemas/stockSchemas';
import * as stockService from '../services/stockService';

// æ ªä¸€è¦§å–å¾—
export const getStocks = async (
  request: FastifyRequest,
  reply: FastifyReply
) => {
  try {
    const data = await stockService.getAllStocks();
    return reply.status(200).send({
      success: true,
      data,
    });
  } catch (error) {
    request.log.error(error);
    return reply.status(500).send({
      success: false,
      error: {
        code: 'INTERNAL_SERVER_ERROR',
        message: 'ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ',
      },
    });
  }
};

// æ ªç™»éŒ²
export const createStock = async (
  request: FastifyRequest,
  reply: FastifyReply
) => {
  try {
    // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
    const validatedData = createStockSchema.parse(request.body);

    // æ ªç™»éŒ²
    const stock = await stockService.registerStock(validatedData);

    return reply.status(201).send({
      success: true,
      data: { stock },
      message: 'æ ªã‚’ç™»éŒ²ã—ã¾ã—ãŸ',
    });
  } catch (error: any) {
    request.log.error(error);

    // Zodãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
    if (error.name === 'ZodError') {
      return reply.status(400).send({
        success: false,
        error: {
          code: 'VALIDATION_ERROR',
          message: 'å…¥åŠ›å†…å®¹ã«èª¤ã‚ŠãŒã‚ã‚Šã¾ã™',
          details: error.errors,
        },
      });
    }

    // é‡è¤‡ã‚¨ãƒ©ãƒ¼
    if (error.code === 'STOCK_CODE_DUPLICATE') {
      return reply.status(409).send({
        success: false,
        error,
      });
    }

    // ãã®ä»–ã®ã‚¨ãƒ©ãƒ¼
    return reply.status(500).send({
      success: false,
      error: {
        code: 'INTERNAL_SERVER_ERROR',
        message: 'ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ',
      },
    });
  }
};

// æ ªè©³ç´°å–å¾—
export const getStockById = async (
  request: FastifyRequest<{ Params: { stockId: string } }>,
  reply: FastifyReply
) => {
  try {
    const stockId = parseInt(request.params.stockId, 10);
    if (isNaN(stockId)) {
      return reply.status(400).send({
        success: false,
        error: {
          code: 'VALIDATION_ERROR',
          message: 'ç„¡åŠ¹ãªæ ªIDã§ã™',
        },
      });
    }

    const stock = await stockService.getStockById(stockId);

    return reply.status(200).send({
      success: true,
      data: { stock },
    });
  } catch (error: any) {
    request.log.error(error);

    if (error.code === 'STOCK_NOT_FOUND') {
      return reply.status(404).send({
        success: false,
        error,
      });
    }

    return reply.status(500).send({
      success: false,
      error: {
        code: 'INTERNAL_SERVER_ERROR',
        message: 'ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ',
      },
    });
  }
};
```

#### 5. routes/stocks.ts

```typescript
import { FastifyInstance } from 'fastify';
import * as stockController from '../controllers/stockController';

export default async function stockRoutes(fastify: FastifyInstance) {
  // æ ªä¸€è¦§å–å¾—
  fastify.get('/stocks', stockController.getStocks);

  // æ ªç™»éŒ²
  fastify.post('/stocks', stockController.createStock);

  // æ ªè©³ç´°å–å¾—
  fastify.get('/stocks/:stockId', stockController.getStockById);
}
```

#### 6. routes/index.tsï¼ˆæ›´æ–°ï¼‰

```typescript
import { FastifyInstance } from 'fastify';
import chartDataRoutes from './chartData';
import stockRoutes from './stocks'; // è¿½åŠ 

export default async function routes(fastify: FastifyInstance) {
  fastify.register(chartDataRoutes, { prefix: '/api/v1' });
  fastify.register(stockRoutes, { prefix: '/api/v1' }); // è¿½åŠ 
}
```

---

## ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ StockList.tsx            # æ ªä¸€è¦§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆæ–°è¦ï¼‰
â”‚   â”‚   â”œâ”€â”€ StockForm.tsx            # æ ªç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆæ–°è¦ï¼‰
â”‚   â”‚   â””â”€â”€ StockChart.tsx           # æ ªä¾¡ãƒãƒ£ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆæ—¢å­˜ï¼‰
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ StocksPage.tsx           # æ ªä¸€è¦§ãƒšãƒ¼ã‚¸ï¼ˆæ–°è¦ï¼‰
â”‚   â”‚   â””â”€â”€ StockNewPage.tsx         # æ ªç™»éŒ²ãƒšãƒ¼ã‚¸ï¼ˆæ–°è¦ï¼‰
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ stockApi.ts              # æ ªAPIé€šä¿¡ï¼ˆæ–°è¦ï¼‰
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ stock.ts                 # æ ªå‹å®šç¾©ï¼ˆæ›´æ–°ï¼‰
â”‚   â”œâ”€â”€ App.tsx                      # ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®šï¼ˆæ›´æ–°ï¼‰
â”‚   â””â”€â”€ main.tsx
```

### å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«

#### 1. types/stock.tsï¼ˆæ›´æ–°ï¼‰

```typescript
// æ—¢å­˜ã®å‹å®šç¾©
export interface CandlestickData {
  date: string;
  open: number;
  close: number;
  low: number;
  high: number;
}

export interface NewsItem {
  id: string;
  date: string;
  time: string;
  title: string;
  summary: string;
  sentiment: 'positive' | 'negative' | 'neutral';
  source: string;
  url: string;
}

// æ–°è¦è¿½åŠ : æ ªãƒã‚¹ã‚¿å‹å®šç¾©
export interface Stock {
  stockId: number;
  stockCode: string;
  stockName: string;
  createdAt: string;
  updatedAt: string;
}

// æ–°è¦è¿½åŠ : æ ªç™»éŒ²å…¥åŠ›å‹
export interface CreateStockInput {
  stockCode: string;
  stockName: string;
}

// æ–°è¦è¿½åŠ : APIå…±é€šãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹
export interface ApiResponse<T> {
  success: boolean;
  data?: T;
  error?: {
    code: string;
    message: string;
    details?: any;
  };
  message?: string;
}
```

#### 2. services/stockApi.ts

```typescript
import { Stock, CreateStockInput, ApiResponse } from '../types/stock';

const API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:3000';

// æ ªä¸€è¦§å–å¾—
export const fetchStocks = async (): Promise<Stock[]> => {
  const response = await fetch(`${API_BASE_URL}/api/v1/stocks`);
  const data: ApiResponse<{ stocks: Stock[]; total: number }> =
    await response.json();

  if (!data.success || !data.data) {
    throw new Error(data.error?.message || 'æ ªä¸€è¦§ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ');
  }

  return data.data.stocks;
};

// æ ªç™»éŒ²
export const createStock = async (
  input: CreateStockInput
): Promise<Stock> => {
  const response = await fetch(`${API_BASE_URL}/api/v1/stocks`, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(input),
  });

  const data: ApiResponse<{ stock: Stock }> = await response.json();

  if (!response.ok || !data.success) {
    throw {
      code: data.error?.code || 'UNKNOWN_ERROR',
      message: data.error?.message || 'æ ªã®ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ',
      details: data.error?.details,
    };
  }

  return data.data!.stock;
};
```

#### 3. components/StockList.tsx

```typescript
import React from 'react';
import { Stock } from '../types/stock';
import './StockList.css';

interface StockListProps {
  stocks: Stock[];
  onChartClick: (stockCode: string) => void;
}

export const StockList: React.FC<StockListProps> = ({ stocks, onChartClick }) => {
  const formatDate = (dateString: string) => {
    const date = new Date(dateString);
    return date.toLocaleString('ja-JP', {
      year: 'numeric',
      month: '2-digit',
      day: '2-digit',
      hour: '2-digit',
      minute: '2-digit',
      second: '2-digit',
    });
  };

  return (
    <div className="stock-list">
      <table className="stock-table">
        <thead>
          <tr>
            <th>éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰</th>
            <th>éŠ˜æŸ„å</th>
            <th>ç™»éŒ²æ—¥æ™‚</th>
            <th>ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</th>
          </tr>
        </thead>
        <tbody>
          {stocks.map((stock) => (
            <tr key={stock.stockId}>
              <td>{stock.stockCode}</td>
              <td>{stock.stockName}</td>
              <td>{formatDate(stock.createdAt)}</td>
              <td>
                <button
                  className="chart-button"
                  onClick={() => onChartClick(stock.stockCode)}
                >
                  ãƒãƒ£ãƒ¼ãƒˆ
                </button>
              </td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};
```

#### 4. components/StockForm.tsx

```typescript
import React, { useState } from 'react';
import { CreateStockInput } from '../types/stock';
import './StockForm.css';

interface StockFormProps {
  onSubmit: (input: CreateStockInput) => Promise<void>;
  onCancel: () => void;
  isLoading: boolean;
}

export const StockForm: React.FC<StockFormProps> = ({
  onSubmit,
  onCancel,
  isLoading,
}) => {
  const [stockCode, setStockCode] = useState('');
  const [stockName, setStockName] = useState('');
  const [errors, setErrors] = useState<{ [key: string]: string }>({});

  // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  const validate = (): boolean => {
    const newErrors: { [key: string]: string } = {};

    if (!stockCode) {
      newErrors.stockCode = 'éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ã¯å¿…é ˆã§ã™';
    } else if (!/^[A-Za-z0-9]{4}$/.test(stockCode)) {
      newErrors.stockCode = 'éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ã¯è‹±æ•°å­—4æ¡ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™';
    }

    if (!stockName) {
      newErrors.stockName = 'éŠ˜æŸ„åã¯å¿…é ˆã§ã™';
    } else if (stockName.length > 100) {
      newErrors.stockName = 'éŠ˜æŸ„åã¯100æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„';
    }

    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };

  // é€ä¿¡å‡¦ç†
  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();

    if (!validate()) {
      return;
    }

    try {
      await onSubmit({
        stockCode: stockCode.trim().toUpperCase(), // å¤§æ–‡å­—ã«çµ±ä¸€
        stockName: stockName.trim(),
      });
    } catch (error) {
      // ã‚¨ãƒ©ãƒ¼ã¯è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å‡¦ç†
    }
  };

  return (
    <form className="stock-form" onSubmit={handleSubmit}>
      <div className="form-group">
        <label htmlFor="stockCode">
          éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ <span className="required">*</span>
        </label>
        <input
          id="stockCode"
          type="text"
          value={stockCode}
          onChange={(e) => setStockCode(e.target.value)}
          placeholder="7203 ã¾ãŸã¯ AAPL"
          maxLength={4}
          disabled={isLoading}
        />
        {errors.stockCode && (
          <p className="error-message">{errors.stockCode}</p>
        )}
        <p className="help-text">è‹±æ•°å­—4æ¡ã®è¨¼åˆ¸ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</p>
      </div>

      <div className="form-group">
        <label htmlFor="stockName">
          éŠ˜æŸ„å <span className="required">*</span>
        </label>
        <input
          id="stockName"
          type="text"
          value={stockName}
          onChange={(e) => setStockName(e.target.value)}
          placeholder="ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š"
          maxLength={100}
          disabled={isLoading}
        />
        {errors.stockName && (
          <p className="error-message">{errors.stockName}</p>
        )}
        <p className="help-text">
          éŠ˜æŸ„åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„(100æ–‡å­—ä»¥å†…)
        </p>
      </div>

      <div className="form-actions">
        <button
          type="button"
          className="cancel-button"
          onClick={onCancel}
          disabled={isLoading}
        >
          ã‚­ãƒ£ãƒ³ã‚»ãƒ«
        </button>
        <button
          type="submit"
          className="submit-button"
          disabled={isLoading}
        >
          {isLoading ? 'ç™»éŒ²ä¸­...' : 'ç™»éŒ²'}
        </button>
      </div>
    </form>
  );
};
```

#### 5. pages/StocksPage.tsx

```typescript
import React, { useEffect, useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { StockList } from '../components/StockList';
import { fetchStocks } from '../services/stockApi';
import { Stock } from '../types/stock';
import './StocksPage.css';

export const StocksPage: React.FC = () => {
  const navigate = useNavigate();
  const [stocks, setStocks] = useState<Stock[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    loadStocks();
  }, []);

  const loadStocks = async () => {
    try {
      setIsLoading(true);
      setError(null);
      const data = await fetchStocks();
      setStocks(data);
    } catch (err: any) {
      setError(err.message || 'æ ªä¸€è¦§ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ');
    } finally {
      setIsLoading(false);
    }
  };

  const handleChartClick = (stockCode: string) => {
    navigate(`/chart/${stockCode}`);
  };

  const handleNewStock = () => {
    navigate('/stocks/new');
  };

  return (
    <div className="stocks-page">
      <div className="page-header">
        <h1>æ ªä¸€è¦§</h1>
        <button className="new-button" onClick={handleNewStock}>
          + æ–°è¦ç™»éŒ²
        </button>
      </div>

      {isLoading && <p className="loading">èª­ã¿è¾¼ã¿ä¸­...</p>}

      {error && <p className="error">{error}</p>}

      {!isLoading && !error && stocks.length === 0 && (
        <p className="empty-message">
          ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹æ ªãŒã‚ã‚Šã¾ã›ã‚“ã€‚æ–°è¦ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚
        </p>
      )}

      {!isLoading && !error && stocks.length > 0 && (
        <StockList stocks={stocks} onChartClick={handleChartClick} />
      )}
    </div>
  );
};
```

#### 6. pages/StockNewPage.tsx

```typescript
import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { StockForm } from '../components/StockForm';
import { createStock } from '../services/stockApi';
import { CreateStockInput } from '../types/stock';
import './StockNewPage.css';

export const StockNewPage: React.FC = () => {
  const navigate = useNavigate();
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const [successMessage, setSuccessMessage] = useState<string | null>(null);

  const handleSubmit = async (input: CreateStockInput) => {
    try {
      setIsLoading(true);
      setError(null);
      setSuccessMessage(null);

      await createStock(input);

      setSuccessMessage('æ ªã‚’ç™»éŒ²ã—ã¾ã—ãŸ');

      // 2ç§’å¾Œã«ä¸€è¦§ç”»é¢ã¸é·ç§»
      setTimeout(() => {
        navigate('/stocks');
      }, 2000);
    } catch (err: any) {
      setError(err.message || 'æ ªã®ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ');
    } finally {
      setIsLoading(false);
    }
  };

  const handleCancel = () => {
    navigate('/stocks');
  };

  return (
    <div className="stock-new-page">
      <h1>æ ªã®æ–°è¦ç™»éŒ²</h1>

      {error && <div className="error-banner">{error}</div>}
      {successMessage && <div className="success-banner">{successMessage}</div>}

      <StockForm
        onSubmit={handleSubmit}
        onCancel={handleCancel}
        isLoading={isLoading}
      />
    </div>
  );
};
```

#### 7. App.tsxï¼ˆæ›´æ–°ï¼‰

```typescript
import React from 'react';
import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';
import { StocksPage } from './pages/StocksPage';
import { StockNewPage } from './pages/StockNewPage';
import { StockChart } from './components/StockChart';

function App() {
  return (
    <Router>
      <Routes>
        <Route path="/" element={<Navigate to="/stocks" replace />} />
        <Route path="/stocks" element={<StocksPage />} />
        <Route path="/stocks/new" element={<StockNewPage />} />
        <Route path="/chart/:stockCode" element={<StockChart />} />
      </Routes>
    </Router>
  );
}

export default App;
```

---

## ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ï¼ˆCSSï¼‰

### StockList.css

```css
.stock-list {
  margin: 20px 0;
}

.stock-table {
  width: 100%;
  border-collapse: collapse;
  background-color: #fff;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.stock-table thead {
  background-color: #E0E0E0;
}

.stock-table th,
.stock-table td {
  padding: 12px 16px;
  text-align: left;
  border-bottom: 1px solid #E0E0E0;
}

.stock-table th {
  font-weight: bold;
  color: #333;
}

.stock-table tbody tr:hover {
  background-color: #F5F5F5;
}

.chart-button {
  background-color: #26A69A;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

.chart-button:hover {
  background-color: #1F8A7F;
}
```

### StockForm.css

```css
.stock-form {
  max-width: 600px;
  margin: 0 auto;
  padding: 20px;
  background-color: #fff;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.form-group {
  margin-bottom: 24px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: bold;
  color: #333;
}

.required {
  color: #EF5350;
}

.form-group input {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #E0E0E0;
  border-radius: 4px;
  font-size: 14px;
}

.form-group input:focus {
  outline: none;
  border-color: #26A69A;
}

.form-group input:disabled {
  background-color: #F5F5F5;
  cursor: not-allowed;
}

.help-text {
  margin-top: 4px;
  font-size: 12px;
  color: #757575;
}

.error-message {
  margin-top: 4px;
  font-size: 12px;
  color: #EF5350;
}

.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 32px;
}

.cancel-button {
  padding: 10px 24px;
  background-color: #9E9E9E;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

.cancel-button:hover {
  background-color: #757575;
}

.submit-button {
  padding: 10px 24px;
  background-color: #26A69A;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

.submit-button:hover {
  background-color: #1F8A7F;
}

.cancel-button:disabled,
.submit-button:disabled {
  background-color: #E0E0E0;
  cursor: not-allowed;
}
```

### StocksPage.css

```css
.stocks-page {
  padding: 40px 20px;
  max-width: 1200px;
  margin: 0 auto;
}

.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
}

.page-header h1 {
  font-size: 28px;
  color: #333;
}

.new-button {
  padding: 10px 20px;
  background-color: #26A69A;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

.new-button:hover {
  background-color: #1F8A7F;
}

.loading {
  text-align: center;
  padding: 40px;
  font-size: 16px;
  color: #757575;
}

.error {
  padding: 16px;
  background-color: #FFEBEE;
  color: #C62828;
  border-radius: 4px;
  margin-bottom: 20px;
}

.empty-message {
  text-align: center;
  padding: 40px;
  font-size: 16px;
  color: #757575;
}
```

### StockNewPage.css

```css
.stock-new-page {
  padding: 40px 20px;
  max-width: 800px;
  margin: 0 auto;
}

.stock-new-page h1 {
  font-size: 28px;
  color: #333;
  margin-bottom: 24px;
}

.error-banner {
  padding: 16px;
  background-color: #FFEBEE;
  color: #C62828;
  border-radius: 4px;
  margin-bottom: 20px;
}

.success-banner {
  padding: 16px;
  background-color: #E8F5E9;
  color: #2E7D32;
  border-radius: 4px;
  margin-bottom: 20px;
}
```

---

## å¿…è¦ãªä¾å­˜é–¢ä¿‚

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆpackage.json ã«è¿½åŠ ï¼‰

```json
{
  "dependencies": {
    "react-router-dom": "^6.22.0"
  },
  "devDependencies": {
    "@types/react-router-dom": "^5.3.3"
  }
}
```

---

## å®Ÿè£…æ‰‹é †

### Phase 1: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIå®Ÿè£…

- [x] Zodã‚¹ã‚­ãƒ¼ãƒå®šç¾© (`schemas/stockSchemas.ts`)
- [x] ãƒªãƒã‚¸ãƒˆãƒªæ‹¡å¼µ (`repositories/stockRepository.ts`)
- [x] ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£… (`services/stockService.ts`)
- [x] ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼å®Ÿè£… (`controllers/stockController.ts`)
- [x] ãƒ«ãƒ¼ãƒˆå®šç¾© (`routes/stocks.ts`)
- [x] ãƒ«ãƒ¼ãƒˆçµ±åˆ (`routes/index.ts`)
- [x] APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å‹•ä½œç¢ºèªï¼ˆcurl / Postmanï¼‰

### Phase 2: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…

- [ ] å‹å®šç¾©æ›´æ–° (`types/stock.ts`)
- [ ] APIé€šä¿¡å®Ÿè£… (`services/stockApi.ts`)
- [ ] æ ªä¸€è¦§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£… (`components/StockList.tsx`)
- [ ] æ ªç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£… (`components/StockForm.tsx`)
- [ ] æ ªä¸€è¦§ãƒšãƒ¼ã‚¸å®Ÿè£… (`pages/StocksPage.tsx`)
- [ ] æ ªç™»éŒ²ãƒšãƒ¼ã‚¸å®Ÿè£… (`pages/StockNewPage.tsx`)
- [ ] ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š (`App.tsx`)
- [ ] CSSã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

### Phase 3: çµ±åˆãƒ†ã‚¹ãƒˆ

- [ ] æ ªä¸€è¦§è¡¨ç¤ºã®ç¢ºèª
- [ ] æ ªç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ç¢ºèª
- [ ] æ ªç™»éŒ²æˆåŠŸã®ç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ç¢ºèªï¼ˆé‡è¤‡ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ç­‰ï¼‰
- [ ] ãƒãƒ£ãƒ¼ãƒˆç”»é¢ã¸ã®é·ç§»ç¢ºèª

---

## å‹•ä½œç¢ºèªã‚³ãƒãƒ³ãƒ‰

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIãƒ†ã‚¹ãƒˆ

```bash
# æ ªä¸€è¦§å–å¾—
curl http://localhost:3000/api/v1/stocks

# æ ªç™»éŒ²
curl -X POST http://localhost:3000/api/v1/stocks \
  -H "Content-Type: application/json" \
  -d '{"stockCode":"7203","stockName":"ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š"}'

# æ ªè©³ç´°å–å¾—
curl http://localhost:3000/api/v1/stocks/1
```

---

## ä»Šå¾Œã®æ‹¡å¼µæ¡ˆ

### Phase 4ä»¥é™ã§æ¤œè¨

1. **æ ªç·¨é›†æ©Ÿèƒ½**: éŠ˜æŸ„åã®ç·¨é›†
2. **æ ªå‰Šé™¤æ©Ÿèƒ½**: æ ªã®å‰Šé™¤ï¼ˆé–¢é€£ãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤ã‚‚æ¤œè¨ï¼‰
3. **æ¤œç´¢æ©Ÿèƒ½**: éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ãƒ»éŠ˜æŸ„åã§ã®æ¤œç´¢
4. **ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³**: å¤§é‡ãƒ‡ãƒ¼ã‚¿å¯¾å¿œ
5. **ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½**: ç™»éŒ²æ—¥æ™‚ã€éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ç­‰ã§ã‚½ãƒ¼ãƒˆ
6. **CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆ**: ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«ã‚ˆã‚‹ä¸€æ‹¬ç™»éŒ²
7. **æ ªä¾¡ãƒ‡ãƒ¼ã‚¿è‡ªå‹•å–å¾—**: å¤–éƒ¨APIã‹ã‚‰ã®æ ªä¾¡ãƒ‡ãƒ¼ã‚¿å–å¾—

---

## å‚è€ƒãƒªãƒ³ã‚¯

- [Fastify Routing](https://fastify.dev/docs/latest/Reference/Routes/)
- [Zod Documentation](https://zod.dev/)
- [React Router v6 Documentation](https://reactrouter.com/)
- [Prisma CRUD Operations](https://www.prisma.io/docs/concepts/components/prisma-client/crud)

---

**ä½œæˆæ—¥**: 2025-11-05
**æœ€çµ‚æ›´æ–°**: 2025-11-05
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: è¨­è¨ˆå®Œäº†ãƒ»å®Ÿè£…å¾…ã¡
**æƒ³å®šå®Ÿè£…æ™‚é–“**: 6-8æ™‚é–“
